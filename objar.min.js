!function(e){e("objar",function(){function e(){this.definitions=[],this.resolved=[],this.resolving=[]}function n(e){return!(!e||"undefined"==typeof e.constructor||"undefined"==typeof e.call||"undefined"==typeof e.apply)}return e.prototype.define=function(e,i){if(!n(i))throw new Error('The service "'+e+'" definition must be a function');return this.definitions[e]=i,this},e.prototype.isDefined=function(e){return void 0!==this.definitions[e]},e.prototype.resolve=function(e){for(var n=0;n<this.resolving.length;n++){var i=this.resolving[n];void 0!==this.resolved[i]&&delete this.resolving[n]}if(void 0!==this.resolved[e])return this.resolved[e];if(-1!==this.resolving.indexOf(e)){var t=this.resolving.concat(this.resolving[0]);throw new Error("Circular dependency detected: "+t.join(" -> "))}this.resolving.push(e);var o=this.definitions[e];if(void 0===o)throw new Error('The service "'+e+'" is not defined');var r=o.apply(this);if(void 0===r)throw new Error('The definition of the service "'+e+'" must return it');return this.resolved[e]=r},e.prototype.invoke=function(e){if(!e instanceof Array||e.length<2)throw new Error("Objar.invoke() expects an annotated function");var i=e.pop(),t=[];if(!n(i))throw new Error("Objar.invoke() expects an annotated function");for(var o=0;o<e.length;o++){var r=e[o];t.push(this.resolve(r))}return i.apply(null,t)},e})}("function"==typeof define&&define.amd?define:function(e,n){"undefined"!=typeof module&&module.exports?module.exports=n(require):window[e]=n(function(e){return window[e]})});